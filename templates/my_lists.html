{% extends "index.html" %}
{% block container %}

    <p></p>
    <div class="card">
        <div class="card-block">
            <h4 class="card-title">Aggiungi una Serie</h4>
            <div class="form-inline">
                <form action="{{ url_for('add_user_series') }}" method="post" class="form-horizontal"
                      role="form">
                    <select name="serie" data-placeholder="Scegli una Serie..." class="chosen-select"
                            style="max-width:350px;"
                            tabindex="2" title="selectSerie">
                        {% for serie in list_series(series) %}
                            <option value="{{ serie }}">{{ serie }}</option>
                        {% endfor %}
                    </select>

                    <button type="submit" class="btn btn-primary selectpill">Aggiungila alla mia Lista</button>
                </form>
            </div>
        </div>
    </div>

    <p></p>
    <div class="card">
        <div class="card-block">
            <h4 class="card-title">Le Mie Serie</h4>
            <ul class="list-group list-group-flush">
                {% for serie in my_user.serie_list %}
                    <li class="list-group-item">
                        <form action="{{ url_for('remove_user_series') }}" method="post" class="form-horizontal"
                              role="form">
                            <button class="btn btn-outline-secondary btn-sm" type="submit">
                                <i class="fa fa-times fa-fw" aria-hidden="true"></i>
                            </button>
                            &nbsp;&nbsp;{{ serie.get().title }}
                            <input name="serie" type="hidden" value="{{ serie.get().title }}">
                        </form>
                    </li>
                {% endfor %}
            </ul>
        </div>
    </div>
    <script async type="text/javascript">
        var config = {
            '.chosen-select': {},
            '.chosen-select-deselect': {allow_single_deselect: true},
            '.chosen-select-no-single': {disable_search_threshold: 10},
            '.chosen-select-no-results': {no_results_text: 'Oops, nothing found!'},
            '.chosen-select-width': {width: "95%"}
        }
        for (var selector in config) {
            $(selector).chosen(config[selector]);
        }
    </script>
{% endblock %}